{% load tz static %}
{% get_current_timezone as TIME_ZONE %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="author" content="BasilFX">
        <meta name="description" content="Photod" />
        <meta name="keywords" content="Photod, photo management, album" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'apple-touch-icon.png' %}">
        <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon-32x32.png' %}">
        <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon-16x16.png' %}">
        <link rel="manifest" href="{% static 'manifest.json' %}">
        <link rel="mask-icon" color="#5bbad5" href="{% static 'safari-pinned-tab.svg' %}">


        <title>Photod</title>

        {% if settings.STYLE_URL %}
            <link type="text/css" rel="stylesheet" href="{{ settings.WEBPACK_STYLE_URL }}?{{ settings.WEBPACK_VERSION }}">
        {% endif %}

        <script type="text/javascript">
            /**
             * Callback for application code to return the application
             * configuration.
             *
             * @return {object} Application configuration.
             */
            function getApplicationConfig() {
                {% if settings.FRONTEND %}
                    return {{ settings.FRONTEND|safe }};
                {% else %}
                    return {};
                {% endif %}
            }

            /**
             * Callback for application code to load the current user details,
             * if the user is already signed in.
             *
             * @return {object|null} Current user, if signed in.
             */
            function getApplicationUser() {
                {% if user %}
                    return {{ user|safe }};
                {% else %}
                    return null;
                {% endif %}
            }

            /**
             * Callback for returning the application-wide timezone.
             *
             * @return {string} Application timezone.
             */
            function getApplicationTimezone() {
                return '{{ TIME_ZONE|safe }}';
            }
        </script>
    </head>
    <body>
        <div id="react"></section>
        <script type="text/javascript" src="{{ settings.WEBPACK_BUNDLE_URL }}?{{ settings.WEBPACK_VERSION }}"></script>
    </body>
</html>
